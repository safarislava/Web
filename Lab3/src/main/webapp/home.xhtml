<!DOCTYPE html>
<html lang="ru"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ctg="http://safarislava.com/jsf/facelets">
<h:head>
    <title>STAR LAB</title>
    <meta charset="utf-8"/>
    <link href="https://fonts.cdnfonts.com/css/starjedi-special-edition" rel="stylesheet"/>
    <h:outputStylesheet library="css" name="home.css"/>
    <h:outputScript library="js" name="main.js" />
</h:head>
<h:body>
    <header>
        <div class="header-container">
            <a class="header-item logo" href="index.xhtml">start</a>
            <p class="header-item">safarislava</p>
            <p class="header-item">variant467570</p>
        </div>
    </header>
    <main>
        <div class="graph-section">
            <div class="graph-container">
                <h:form id="hidden-points">
                    <h:inputHidden id="points" value="#{controlBean.getPointsJson()}"/>
                    <h:outputScript>updateGraphImage()</h:outputScript>
                </h:form>
                <h:form id="graphForm">
                    <h:inputHidden id="hidden-x" value="#{controlBean.x}" required="true"/>
                    <h:inputHidden id="hidden-y" value="#{controlBean.y}" required="true"/>
                    <h:inputHidden id="hidden-r" value="#{controlBean.r}" required="true"/>
                    <h:graphicImage value="" id="graph-image" onclick="setHiddenValues(event)">
                        <f:ajax event="click" listener="#{controlBean.addPoints()}" execute="@form"
                                render=":resultsTable :hidden-points" onevent="handleGraphAjaxEvent" />
                    </h:graphicImage>
                </h:form>
            </div>
            <h:form class="input-form" id="mainForm">
                <h2 class="form-title">Параметры точки</h2>
                <div class="input-group">
                    <label class="input-group-label">Координата X:</label>
                    <div class="checkbox-group">
                        <h:selectOneRadio value="#{controlBean.x}" layout="lineDirection" required="true">
                            <f:selectItem itemValue="-2" itemLabel="-2"/>
                            <f:selectItem itemValue="-1.5" itemLabel="-1.5"/>
                            <f:selectItem itemValue="-1" itemLabel="-1"/>
                            <f:selectItem itemValue="-0.5" itemLabel="-0.5"/>
                            <f:selectItem itemValue="0" itemLabel="0"/>
                            <f:selectItem itemValue="0.5" itemLabel="0.5"/>
                            <f:selectItem itemValue="1" itemLabel="1"/>
                            <f:selectItem itemValue="1.5" itemLabel="+1.5"/>
                            <f:selectItem itemValue="2" itemLabel="2"/>
                        </h:selectOneRadio>
                    </div>
                </div>
                <div class="input-group">
                    <label class="input-group-label">Координата Y:</label>
                    <h:inputText type="text" id="y-data" value="#{controlBean.y}"
                                 title="Введите значение Y от -5 до 3" required="true"/>
                </div>
                <div class="input-group">
                    <label class="input-group-label">Значение R:</label>
                    <div class="checkbox-group">
                        <h:selectOneRadio value="#{controlBean.r}" layout="lineDirection" required="true">
                            <f:selectItem itemValue="1" itemLabel="1"/>
                            <f:selectItem itemValue="1.5" itemLabel="1.5"/>
                            <f:selectItem itemValue="2" itemLabel="2"/>
                            <f:selectItem itemValue="2.5" itemLabel="2.5"/>
                            <f:selectItem itemValue="3" itemLabel="3"/>
                            <f:ajax event="click" render=":graphForm:hidden-r"/>
                        </h:selectOneRadio>
                    </div>
                </div>
                <div class="send-form">
                    <p id="problem-label"/>
                    <h:commandButton value="Проверить точку" action="#{controlBean.addPoints}"
                                     styleClass="send-button">
                        <f:ajax execute="@form" render=":resultsTable :hidden-points" onevent="handleMainAjaxEvent"/>
                    </h:commandButton>
                </div>
            </h:form>
        </div>
    </main>
    <footer>
        <div class="table-container">
            <ctg:table-content/>
        </div>
    </footer>
    <h:outputScript library="js" name="image-generator.js"/>
</h:body>
</html>